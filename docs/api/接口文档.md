# 接口文档

其中 `*` 为预留字段，现阶段未使用。

## 用户部分

#### 注册接口

`/api/v1/user/register`

##### 请求参数

| 参数                 | 类型   | 是否必填 | 约束                      | 描述                                                         |
| -------------------- | ------ | -------- | ------------------------- | ------------------------------------------------------------ |
| Username             | string | 是       | 字母、数字或“_”，6-30位。 | 用户名/邮箱/手机号码                                         |
| Password             | string | 是       | 字母、数字或“_”，6-20位。 | 密码                                                         |
| Mail                 | string | 是       | 邮箱格式                  | 邮箱                                                         |
| MobilePhone          | string | 是       | 手机格式                  | 手机号码                                                     |
| Name                 | string | 是       | 2到6个汉字                | 姓名                                                         |
| CertificateType*     | uint8  | 否       | [0,1,2,3]                 | 证件类型：0-中国居民身份证（默认）；1-外国人永久居留身份证；2-港澳台居民居住证；3-护照； |
| Sex*                 | string | 否       | [0,1]                     | 性别                                                         |
| Birthday*            | string | 否       | YYYY-MM-DD                | 出生日期                                                     |
| Country*             | string | 否       | 国家列表                  | 国家地区：中国CHINA                                          |
| CertificateDeadline* | string | 否       | YYYY-MM-DD                | 证件有效期默认为无限期                                       |
| Certificate          | string | 是       | 18位，身份证格式          | 证件号码                                                     |
| PassengerType*       | uint8  | 否       | [0,1,2,3]                 | 乘客类型：0-成人；1-儿童；2-学生；3-残军；                   |



##### 响应参数

见公共部分调用结果。

##### 请求示例

```json
{
    "username":"machengcheng123",
    "password":"Test123456",
    "email":"616225222@qq.com",
    "mobile_phone":"15233881412",
    "name":"张三",
    "certificate":"622215199901010012"
}
```

##### 响应示例

```json
{
    "code": 200,
    "data": {},
    "msg": "注册成功"
}
```

##### 业务码列表

| 业务码 | 解释       |
| ------ | ---------- |
| 200    | 注册成功   |
| 201    | 参数不合法 |
| 202    | 用户已存在 |

##### 备注

目前仅支持中国籍贯成人用户注册。



#### 登陆接口

`/api/v1/user/login`

##### 请求参数

| 参数     | 类型   | 是否必填 | 约束                     | 描述                 |
| -------- | ------ | -------- | ------------------------ | -------------------- |
| Username | string | 是       | 用户名/邮箱/手机号码格式 | 用户名/邮箱/手机号码 |
| Password | string | 是       | 字母、数字或“_”，6-20位。                         | 密码                 |

##### 响应参数

见公共部分调用结果。

其中 `data` 中字段。

| 参数  | 类型   | 描述           |
| ----- | ------ | -------------- |
| token | string | 用于接口鉴权。 |



##### 请求示例

```json
{
    "username":"machengcheng123",
    "password":"Test123456"
}
```

##### 响应示例

```json
{
    "code": 200,
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Im1hY2hlbmdjaGVuZzEyMyIsImV4cCI6MTYxMTc3NTg3NSwiaXNzIjoiMTIzMDYifQ.oXq-SJ0IvPaDVQRhG9ifC1OwLTzL7tQQjDufESPz9qM"
    },
    "msg": "登陆成功"
}
```

##### 业务码列表

| 业务码 | 解释                   |
| ------ | ---------------------- |
| 200    | 登陆成功               |
| 201    | 参数不合法             |
| 202    | 请正确输入用户名或密码 |



#### 个人资料查询接口

`/api/v1/user/query_user_information`

##### 请求参数

见公共部分请求要求。

##### 响应参数

其中 `data` 中 `user_information`。

| 参数             | 类型   | 描述     |
| ---------------- | ------ | -------- |
| username         | string | 用户名   |
| name             | string | 姓名     |
| country          | string | 国家地区 |
| certificate_type | string | 证件类型 |
| certificate      | string | 证件号码 |
| check_status     | string | 审核状态 |
| mobile_phone     | string | 手机号码 |
| email            | string | 电子邮箱 |
| passenger_type   | string | 旅客类型 |

##### 请求示例

```json
{}
```

##### 响应示例

```json
{
    "code": 200,
    "data": {
        "user_information": {
            "username": "machengcheng123",
            "name": "张三",
            "country": "中国CHINA",
            "certificate_type": "中国居民身份证",
            "certificate": "622215199901010012",
            "check_status": "已审核通过",
            "mobile_phone": "15233881412",
            "email": "616225222@qq.com",
            "passenger_type": "成人"
        }
    },
    "msg": "查询成功"
}
```

##### 业务码列表

| 业务码 | 解释     |
| ------ | -------- |
| 200    | 查询成功 |

#### 个人资料修改接口

#### 乘车人查询接口

#### 乘车人修改接口

#### 乘车人添加接口

#### 乘车人删除接口

#### 修改密码接口

## 车站部分



## 订单部分



## 公共部分

### 调用结果

| 参数 | 类型   | 是否必填 |
| ---- | ------ | -------- |
| Code | uint   | 是       |
| Data | dict   | 否       |
| Msg  | string | 是       |

### 请求要求

在`Headers`上添加 `token`。

##### 